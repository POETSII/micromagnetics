<?xml version="1.0"?>
<!--
This XML is a template that describes {{v:dim}}-dimensional micromagnetic
simulation, which may have been populated.

{{f:preamble.txt}}-->
<Graphs xmlns="" appname="micromagnetic_simulation">
  <GraphType id="micromagnetic_simulation_type">
    <MessageTypes>
      <MessageType id="state">
        <Message><![CDATA[
{{f:msg_state.c}}
        ]]></Message>
      </MessageType>
    </MessageTypes>
    <DeviceTypes>
      <DeviceType id="fd_point">
        <Properties><![CDATA[
{{f:fd_point_properties.c}}
        ]]></Properties>
        <State><![CDATA[
{{f:fd_point_state.c}}
        ]]></State>
        <ReadyToSend><![CDATA[
{{f:fd_point_rts.c}}
        ]]></ReadyToSend>
        <OnDeviceIdle><![CDATA[
{{f:fd_point_on_idle.c}}
        ]]></OnDeviceIdle>

        <!-- Getting the word out to our neighbours. -->
        <OutputPin name="state_send" messageTypeId="state">
          <OnSend><![CDATA[
{{f:fd_point_update_state_1d.c}}

{{f:populate_state_message.c}}
          ]]></OnSend>
        </OutputPin>

        <!-- Getting the word out to the supervisor. -->
        <SupervisorOutPin messageTypeId="state">
          <OnSend><![CDATA[
{{f:populate_exfiltration_message_1d.c}}
          ]]></OnSend>
        </SupervisorOutPin>

        <!-- Receiving the word from our neighbours. -->
        <InputPin name="state_recv" messageTypeId="state">
          <OnReceive><![CDATA[
{{f:fd_point_recv_1d.c}}

{{f:can_we_update_1d.c}}
          ]]></OnReceive>
        </InputPin>
      </DeviceType>

      <SupervisorType id="supervisor">
        <Code><![CDATA[
{{f:super_code.c}}
        ]]></Code>
        <Properties><![CDATA[
{{f:super_properties.c}}
        ]]></Properties>
        <State><![CDATA[
{{f:super_state.c}}
        ]]></State>
        <OnInit><![CDATA[
{{f:super_init.c}}
        ]]></OnInit>
        <OnStop><![CDATA[
{{f:super_stop.c}}
        ]]></OnStop>
        <SupervisorInPin id="" messageTypeId="state">
          <OnReceive><![CDATA[
{{f:super_recv_exfiltration_1d.c}}
          ]]></OnReceive>
        </SupervisorInPin>
      </SupervisorType>
    </DeviceTypes>
  </GraphType>
{{f:instances/graph_instance.xml}}
</Graphs>
